{"is_source_file": true, "format": "TypeScript", "description": "This file defines TypeScript interfaces, helper functions, and async functions for managing connections in a frontend application, including listing, validating, and revoking connections by communicating with a backend API.", "external_files": ["./client"], "external_methods": ["fetchEnvelope"], "published": ["ConnectionSummary", "listConnections", "validateConnection", "revokeConnection"], "classes": [], "methods": [{"name": "function isRecord(v: unknown): v is Record<string, unknown> { isRecord", "description": "Type guard to check if a value is a record object.", "scope": "", "scopeKind": ""}, {"name": "function asString(v: unknown): string | undefined { asString", "description": "Helper to convert an unknown value to string if possible.", "scope": "", "scopeKind": ""}, {"name": "function asStringArray(v: unknown): string[] | undefined { asStringArray", "description": "Helper to convert an unknown value to an array of strings if possible.", "scope": "", "scopeKind": ""}, {"name": "export async function listConnections(): Promise<ConnectionSummary[]> { listConnections", "description": "Fetches and processes a list of connection summaries from the backend.", "scope": "", "scopeKind": ""}, {"name": "export async function validateConnection(connectionId: string): Promise<void> { validateConnection", "description": "Triggers validation for a specific connection by id.", "scope": "", "scopeKind": ""}, {"name": "export async function revokeConnection(connectionId: string): Promise<void> { revokeConnection", "description": "Revokes a specific connection by id.", "scope": "", "scopeKind": ""}], "calls": ["fetchEnvelope", "fetchEnvelope"], "search-terms": ["listConnections", "validateConnection", "revokeConnection", "ConnectionSummary", "connections API", "connection management"], "state": 2, "file_id": 16, "knowledge_revision": 148, "git_revision": "", "revision_history": [{"45": ""}, {"50": ""}, {"88": ""}, {"94": ""}, {"144": ""}, {"147": ""}, {"148": ""}], "ctags": [{"_type": "tag", "name": "ConnectionSummary", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connections.ts", "pattern": "/^export interface ConnectionSummary {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "asString", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connections.ts", "pattern": "/^function asString(v: unknown): string | undefined {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "asStringArray", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connections.ts", "pattern": "/^function asStringArray(v: unknown): string[] | undefined {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "c", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connections.ts", "pattern": "/^      const c = r.connector as Record<string, unknown>;$/", "language": "TypeScript", "kind": "constant", "scope": "listConnections", "scopeKind": "function"}, {"_type": "tag", "name": "connector", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connections.ts", "pattern": "/^  connector?: {$/", "language": "TypeScript", "kind": "property", "scope": "ConnectionSummary", "scopeKind": "interface"}, {"_type": "tag", "name": "createdAt", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connections.ts", "pattern": "/^    const createdAt = asString(r.createdAt);$/", "language": "TypeScript", "kind": "constant", "scope": "listConnections", "scopeKind": "function"}, {"_type": "tag", "name": "createdAt", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connections.ts", "pattern": "/^  createdAt?: string;$/", "language": "TypeScript", "kind": "property", "scope": "ConnectionSummary", "scopeKind": "interface"}, {"_type": "tag", "name": "env", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connections.ts", "pattern": "/^  const env = await fetchEnvelope(`\\/connections\\/${encodeURIComponent(connectionId)}\\/revoke`, /", "language": "TypeScript", "kind": "constant", "scope": "revokeConnection", "scopeKind": "function"}, {"_type": "tag", "name": "env", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connections.ts", "pattern": "/^  const env = await fetchEnvelope(`\\/connections\\/${encodeURIComponent(connectionId)}\\/validate`/", "language": "TypeScript", "kind": "constant", "scope": "validateConnection", "scopeKind": "function"}, {"_type": "tag", "name": "env", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connections.ts", "pattern": "/^  const env = await fetchEnvelope<unknown>('\\/connections');$/", "language": "TypeScript", "kind": "constant", "scope": "listConnections", "scopeKind": "function"}, {"_type": "tag", "name": "env", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connections.ts", "pattern": "/^  const raw: unknown = env.ok ? env.data : [];$/", "language": "TypeScript", "kind": "constant", "scope": "listConnections", "scopeKind": "function"}, {"_type": "tag", "name": "environment", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connections.ts", "pattern": "/^    const environment = asString(r.environment);$/", "language": "TypeScript", "kind": "constant", "scope": "listConnections", "scopeKind": "function"}, {"_type": "tag", "name": "environment", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connections.ts", "pattern": "/^  environment?: string;$/", "language": "TypeScript", "kind": "property", "scope": "ConnectionSummary", "scopeKind": "interface"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connections.ts", "pattern": "/^    const id = asString(r.id) || asString((r as Record<string, unknown>)._id) || '';$/", "language": "TypeScript", "kind": "constant", "scope": "listConnections", "scopeKind": "function"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connections.ts", "pattern": "/^  id: string;$/", "language": "TypeScript", "kind": "property", "scope": "ConnectionSummary", "scopeKind": "interface"}, {"_type": "tag", "name": "isRecord", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connections.ts", "pattern": "/^function isRecord(v: unknown): v is Record<string, unknown> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "listConnections", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connections.ts", "pattern": "/^export async function listConnections(): Promise<ConnectionSummary[]> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connections.ts", "pattern": "/^    const name = asString(r.name);$/", "language": "TypeScript", "kind": "constant", "scope": "listConnections", "scopeKind": "function"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connections.ts", "pattern": "/^  name?: string;$/", "language": "TypeScript", "kind": "property", "scope": "ConnectionSummary", "scopeKind": "interface"}, {"_type": "tag", "name": "r", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connections.ts", "pattern": "/^    const r = isRecord(x) ? x : {};$/", "language": "TypeScript", "kind": "constant", "scope": "listConnections", "scopeKind": "function"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connections.ts", "pattern": "/^  const raw: unknown = env.ok ? env.data : [];$/", "language": "TypeScript", "kind": "constant", "scope": "listConnections", "scopeKind": "function"}, {"_type": "tag", "name": "revokeConnection", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connections.ts", "pattern": "/^export async function revokeConnection(connectionId: string): Promise<void> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "scopes", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connections.ts", "pattern": "/^    const scopes = asStringArray(r.scopes) || [];$/", "language": "TypeScript", "kind": "constant", "scope": "listConnections", "scopeKind": "function"}, {"_type": "tag", "name": "scopes", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connections.ts", "pattern": "/^  scopes?: string[];$/", "language": "TypeScript", "kind": "property", "scope": "ConnectionSummary", "scopeKind": "interface"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connections.ts", "pattern": "/^    const status = (asString(r.status) as ConnectionSummary['status']) || 'unknown';$/", "language": "TypeScript", "kind": "constant", "scope": "listConnections", "scopeKind": "function"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connections.ts", "pattern": "/^  status?: 'connected' | 'pending' | 'revoked' | 'disconnected' | 'unknown' | string;$/", "language": "TypeScript", "kind": "property", "scope": "ConnectionSummary", "scopeKind": "interface"}, {"_type": "tag", "name": "updatedAt", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connections.ts", "pattern": "/^    const updatedAt = asString(r.updatedAt);$/", "language": "TypeScript", "kind": "constant", "scope": "listConnections", "scopeKind": "function"}, {"_type": "tag", "name": "updatedAt", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connections.ts", "pattern": "/^  updatedAt?: string;$/", "language": "TypeScript", "kind": "property", "scope": "ConnectionSummary", "scopeKind": "interface"}, {"_type": "tag", "name": "validateConnection", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connections.ts", "pattern": "/^export async function validateConnection(connectionId: string): Promise<void> {$/", "language": "TypeScript", "kind": "function"}], "hash": "239a156a61be9e27f21f85ee8d3fcadb", "format-version": 4, "code-base-name": "unified_connector_frontend", "filename": "unified_connector_frontend/src/lib/api/connections.ts", "fields": [{"name": "export interface ConnectionSummary {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "connector?: {", "scope": "ConnectionSummary", "scopeKind": "interface", "description": "unavailable"}, {"name": "createdAt?: string;", "scope": "ConnectionSummary", "scopeKind": "interface", "description": "unavailable"}, {"name": "environment?: string;", "scope": "ConnectionSummary", "scopeKind": "interface", "description": "unavailable"}, {"name": "id: string;", "scope": "ConnectionSummary", "scopeKind": "interface", "description": "unavailable"}, {"name": "name?: string;", "scope": "ConnectionSummary", "scopeKind": "interface", "description": "unavailable"}, {"name": "scopes?: string[];", "scope": "ConnectionSummary", "scopeKind": "interface", "description": "unavailable"}, {"name": "status?: 'connected' | 'pending' | 'revoked' | 'disconnected' | 'unknown' | string;", "scope": "ConnectionSummary", "scopeKind": "interface", "description": "unavailable"}, {"name": "updatedAt?: string;", "scope": "ConnectionSummary", "scopeKind": "interface", "description": "unavailable"}]}