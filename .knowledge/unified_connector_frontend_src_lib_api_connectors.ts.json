{"is_source_file": true, "format": "TypeScript", "description": "This file defines types, constants, and functions related to connector onboarding flows, including listing connectors, initiating OAuth, creating API key connections, and validating connections. It also includes a helper function to handle API responses.", "external_files": ["fetch API (built-in in browsers or environment)", "process.env (environment variables)"], "external_methods": ["fetch", "String", "encodeURIComponent"], "published": ["UnifiedError", "UnifiedEnvelope", "Connector", "listConnectors", "initiateOAuth", "createApiKeyConnection", "validateConnection"], "classes": [], "methods": [{"name": "export async function listConnectors(): Promise<UnifiedEnvelope<Connector[]>> { listConnectors", "description": "Fetches a list of available connectors from the backend API and returns a wrapped response.", "scope": "", "scopeKind": ""}, {"name": "export async function initiateOAuth( initiateOAuth", "description": "Starts an OAuth authentication flow for a specific connector by connector ID.", "scope": "", "scopeKind": ""}, {"name": "export async function createApiKeyConnection( createApiKeyConnection", "description": "Creates a new API key-based connection for a specified connector with given API key details.", "scope": "", "scopeKind": ""}, {"name": "export async function validateConnection( validateConnection", "description": "Validates an existing connection identified by a connector ID.", "scope": "", "scopeKind": ""}, {"name": "async function handleResponse<T>(res: Response): Promise<UnifiedEnvelope<T>> { handleResponse", "description": "Processes the fetch response, parsing JSON or text, and normalizing errors into a UnifiedEnvelope.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "handleResponse", "encodeURIComponent"], "search-terms": ["connectors API", "OAuth initiation", "API key connection", "connection validation", "UnifiedEnvelope", "backend API interaction", "connector onboarding"], "state": 2, "file_id": 12, "knowledge_revision": 39, "git_revision": "", "revision_history": [{"25": ""}, {"26": ""}, {"27": ""}, {"30": ""}, {"36": ""}, {"37": ""}, {"38": ""}, {"39": ""}], "ctags": [{"_type": "tag", "name": "API_BASE", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connectors.ts", "pattern": "/^const API_BASE =$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "Connector", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connectors.ts", "pattern": "/^export type Connector = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "UnifiedEnvelope", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connectors.ts", "pattern": "/^export type UnifiedEnvelope<T = unknown> = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "UnifiedError", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connectors.ts", "pattern": "/^export type UnifiedError = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "b", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connectors.ts", "pattern": "/^    const b = body as Record<string, unknown>;$/", "language": "TypeScript", "kind": "constant", "scope": "handleResponse", "scopeKind": "function"}, {"_type": "tag", "name": "code", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connectors.ts", "pattern": "/^    const code =$/", "language": "TypeScript", "kind": "constant", "scope": "handleResponse", "scopeKind": "function"}, {"_type": "tag", "name": "contentType", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connectors.ts", "pattern": "/^  const contentType = res.headers.get(\"content-type\") || \"\";$/", "language": "TypeScript", "kind": "constant", "scope": "handleResponse", "scopeKind": "function"}, {"_type": "tag", "name": "createApiKeyConnection", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connectors.ts", "pattern": "/^export async function createApiKeyConnection($/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "details", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connectors.ts", "pattern": "/^    const details =$/", "language": "TypeScript", "kind": "constant", "scope": "handleResponse", "scopeKind": "function"}, {"_type": "tag", "name": "fallback", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connectors.ts", "pattern": "/^  const fallback: UnifiedError = { code: \"HTTP_ERROR\", message: `HTTP ${res.status}` };$/", "language": "TypeScript", "kind": "constant", "scope": "handleResponse", "scopeKind": "function"}, {"_type": "tag", "name": "handleResponse", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connectors.ts", "pattern": "/^async function handleResponse<T>(res: Response): Promise<UnifiedEnvelope<T>> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "initiateOAuth", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connectors.ts", "pattern": "/^export async function initiateOAuth($/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "listConnectors", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connectors.ts", "pattern": "/^export async function listConnectors(): Promise<UnifiedEnvelope<Connector[]>> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connectors.ts", "pattern": "/^    const message =$/", "language": "TypeScript", "kind": "constant", "scope": "handleResponse", "scopeKind": "function"}, {"_type": "tag", "name": "nested", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connectors.ts", "pattern": "/^    const nested = (b.error as Record<string, unknown> | undefined) || {};$/", "language": "TypeScript", "kind": "constant", "scope": "handleResponse", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connectors.ts", "pattern": "/^    const res = await fetch($/", "language": "TypeScript", "kind": "constant", "scope": "validateConnection", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connectors.ts", "pattern": "/^    const res = await fetch(`${API_BASE}\\/connections\\/api-key`, {$/", "language": "TypeScript", "kind": "constant", "scope": "createApiKeyConnection", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connectors.ts", "pattern": "/^    const res = await fetch(`${API_BASE}\\/connections\\/oauth\\/initiate`, {$/", "language": "TypeScript", "kind": "constant", "scope": "initiateOAuth", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connectors.ts", "pattern": "/^    const res = await fetch(`${API_BASE}\\/connectors`, {$/", "language": "TypeScript", "kind": "constant", "scope": "listConnectors", "scopeKind": "function"}, {"_type": "tag", "name": "validateConnection", "path": "/home/kavia/workspace/code-generation/unified-connector-framework-143961-143971/unified_connector_frontend/src/lib/api/connectors.ts", "pattern": "/^export async function validateConnection($/", "language": "TypeScript", "kind": "function"}], "hash": "ff10b219564dbaa1e04fdafbca6d7ba9", "format-version": 4, "code-base-name": "unified_connector_frontend", "filename": "unified_connector_frontend/src/lib/api/connectors.ts"}